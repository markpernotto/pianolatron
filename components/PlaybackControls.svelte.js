import './PlaybackControls.svelte.css.proxy.js';
/* src/components/PlaybackControls.svelte generated by Svelte v3.29.4 */
import {
	SvelteComponent,
	add_flush_callback,
	append,
	attr,
	bind,
	binding_callbacks,
	component_subscribe,
	create_component,
	destroy_component,
	detach,
	element,
	init,
	insert,
	is_function,
	listen,
	mount_component,
	run_all,
	safe_not_equal,
	set_data,
	set_style,
	space,
	text,
	toggle_class,
	transition_in,
	transition_out
} from "../_snowpack/pkg/svelte/internal.js";

import { pedalling, volume, tempoControl, playbackProgress } from "../stores.js";
import RangeSlider from "../ui-components/RangeSlider.svelte.js";

function create_fragment(ctx) {
	let div5;
	let div0;
	let span0;
	let t1;
	let span1;
	let t2_value = /*$volume*/ ctx[3].master + "";
	let t2;
	let t3;
	let rangeslider0;
	let updating_value;
	let t4;
	let div1;
	let span2;
	let t6;
	let span3;
	let t7_value = /*$volume*/ ctx[3].left + "";
	let t7;
	let t8;
	let rangeslider1;
	let updating_value_1;
	let t9;
	let div2;
	let span4;
	let t11;
	let span5;
	let t12_value = /*$volume*/ ctx[3].right + "";
	let t12;
	let t13;
	let rangeslider2;
	let updating_value_2;
	let t14;
	let div3;
	let span6;
	let t16;
	let span7;
	let t17;
	let t18;
	let rangeslider3;
	let updating_value_3;
	let t19;
	let div4;
	let span8;
	let t21;
	let span9;
	let t22_value = (/*$playbackProgress*/ ctx[5] * 100).toFixed(2) + "";
	let t22;
	let t23;
	let t24;
	let rangeslider4;
	let t25;
	let button0;
	let t27;
	let button1;
	let t29;
	let button2;
	let t30;
	let button2_aria_pressed_value;
	let t31;
	let button3;
	let t32;
	let button3_aria_pressed_value;
	let t33;
	let br;
	let t34;
	let button4;
	let t35;
	let button4_aria_pressed_value;
	let current;
	let mounted;
	let dispose;

	function rangeslider0_value_binding(value) {
		/*rangeslider0_value_binding*/ ctx[8].call(null, value);
	}

	let rangeslider0_props = {
		min: "0",
		max: "4",
		step: ".1",
		name: "volume"
	};

	if (/*$volume*/ ctx[3].master !== void 0) {
		rangeslider0_props.value = /*$volume*/ ctx[3].master;
	}

	rangeslider0 = new RangeSlider({ props: rangeslider0_props });
	binding_callbacks.push(() => bind(rangeslider0, "value", rangeslider0_value_binding));

	function rangeslider1_value_binding(value) {
		/*rangeslider1_value_binding*/ ctx[9].call(null, value);
	}

	let rangeslider1_props = {
		min: "0",
		max: "4",
		step: ".1",
		name: "volume"
	};

	if (/*$volume*/ ctx[3].left !== void 0) {
		rangeslider1_props.value = /*$volume*/ ctx[3].left;
	}

	rangeslider1 = new RangeSlider({ props: rangeslider1_props });
	binding_callbacks.push(() => bind(rangeslider1, "value", rangeslider1_value_binding));

	function rangeslider2_value_binding(value) {
		/*rangeslider2_value_binding*/ ctx[10].call(null, value);
	}

	let rangeslider2_props = {
		min: "0",
		max: "4",
		step: ".1",
		name: "volume"
	};

	if (/*$volume*/ ctx[3].right !== void 0) {
		rangeslider2_props.value = /*$volume*/ ctx[3].right;
	}

	rangeslider2 = new RangeSlider({ props: rangeslider2_props });
	binding_callbacks.push(() => bind(rangeslider2, "value", rangeslider2_value_binding));

	function rangeslider3_value_binding(value) {
		/*rangeslider3_value_binding*/ ctx[11].call(null, value);
	}

	let rangeslider3_props = {
		min: "1",
		max: "180",
		step: "1",
		name: "tempo"
	};

	if (/*$tempoControl*/ ctx[4] !== void 0) {
		rangeslider3_props.value = /*$tempoControl*/ ctx[4];
	}

	rangeslider3 = new RangeSlider({ props: rangeslider3_props });
	binding_callbacks.push(() => bind(rangeslider3, "value", rangeslider3_value_binding));

	rangeslider4 = new RangeSlider({
			props: {
				min: "0",
				max: "1",
				step: "0.001",
				value: /*$playbackProgress*/ ctx[5],
				name: "progress",
				mousewheel: false
			}
		});

	rangeslider4.$on("input", /*input_handler*/ ctx[12]);

	return {
		c() {
			div5 = element("div");
			div0 = element("div");
			span0 = element("span");
			span0.textContent = "Volume:";
			t1 = space();
			span1 = element("span");
			t2 = text(t2_value);
			t3 = space();
			create_component(rangeslider0.$$.fragment);
			t4 = space();
			div1 = element("div");
			span2 = element("span");
			span2.textContent = "Bass Volume:";
			t6 = space();
			span3 = element("span");
			t7 = text(t7_value);
			t8 = space();
			create_component(rangeslider1.$$.fragment);
			t9 = space();
			div2 = element("div");
			span4 = element("span");
			span4.textContent = "Treble Volume:";
			t11 = space();
			span5 = element("span");
			t12 = text(t12_value);
			t13 = space();
			create_component(rangeslider2.$$.fragment);
			t14 = space();
			div3 = element("div");
			span6 = element("span");
			span6.textContent = "Tempo:";
			t16 = space();
			span7 = element("span");
			t17 = text(/*$tempoControl*/ ctx[4]);
			t18 = space();
			create_component(rangeslider3.$$.fragment);
			t19 = space();
			div4 = element("div");
			span8 = element("span");
			span8.textContent = "Progress:";
			t21 = space();
			span9 = element("span");
			t22 = text(t22_value);
			t23 = text("%");
			t24 = space();
			create_component(rangeslider4.$$.fragment);
			t25 = space();
			button0 = element("button");
			button0.textContent = "Play/Pause";
			t27 = space();
			button1 = element("button");
			button1.textContent = "Stop";
			t29 = space();
			button2 = element("button");
			t30 = text("Soft");
			t31 = space();
			button3 = element("button");
			t32 = text("Sustain");
			t33 = space();
			br = element("br");
			t34 = space();
			button4 = element("button");
			t35 = text("Accent");
			attr(div0, "class", "control svelte-q8dlhg");
			attr(div1, "class", "control svelte-q8dlhg");
			attr(div2, "class", "control svelte-q8dlhg");
			attr(div3, "class", "control svelte-q8dlhg");
			attr(div4, "class", "control svelte-q8dlhg");
			attr(button0, "type", "button");
			attr(button0, "class", "svelte-q8dlhg");
			attr(button1, "type", "button");
			attr(button1, "class", "svelte-q8dlhg");
			attr(button2, "type", "button");
			attr(button2, "aria-pressed", button2_aria_pressed_value = /*$pedalling*/ ctx[6].soft);
			attr(button2, "class", "svelte-q8dlhg");
			toggle_class(button2, "pedal-on", /*$pedalling*/ ctx[6].soft);
			attr(button3, "type", "button");
			attr(button3, "aria-pressed", button3_aria_pressed_value = /*$pedalling*/ ctx[6].sustain);
			attr(button3, "class", "svelte-q8dlhg");
			toggle_class(button3, "pedal-on", /*$pedalling*/ ctx[6].sustain);
			attr(button4, "type", "button");
			set_style(button4, "width", "100%");
			attr(button4, "aria-pressed", button4_aria_pressed_value = /*$pedalling*/ ctx[6].accent);
			attr(button4, "class", "svelte-q8dlhg");
			toggle_class(button4, "pedal-on", /*$pedalling*/ ctx[6].accent);
			attr(div5, "id", "playback-controls");
			attr(div5, "class", "svelte-q8dlhg");
		},
		m(target, anchor) {
			insert(target, div5, anchor);
			append(div5, div0);
			append(div0, span0);
			append(div0, t1);
			append(div0, span1);
			append(span1, t2);
			append(div0, t3);
			mount_component(rangeslider0, div0, null);
			append(div5, t4);
			append(div5, div1);
			append(div1, span2);
			append(div1, t6);
			append(div1, span3);
			append(span3, t7);
			append(div1, t8);
			mount_component(rangeslider1, div1, null);
			append(div5, t9);
			append(div5, div2);
			append(div2, span4);
			append(div2, t11);
			append(div2, span5);
			append(span5, t12);
			append(div2, t13);
			mount_component(rangeslider2, div2, null);
			append(div5, t14);
			append(div5, div3);
			append(div3, span6);
			append(div3, t16);
			append(div3, span7);
			append(span7, t17);
			append(div3, t18);
			mount_component(rangeslider3, div3, null);
			append(div5, t19);
			append(div5, div4);
			append(div4, span8);
			append(div4, t21);
			append(div4, span9);
			append(span9, t22);
			append(span9, t23);
			append(div4, t24);
			mount_component(rangeslider4, div4, null);
			append(div5, t25);
			append(div5, button0);
			append(div5, t27);
			append(div5, button1);
			append(div5, t29);
			append(div5, button2);
			append(button2, t30);
			append(div5, t31);
			append(div5, button3);
			append(button3, t32);
			append(div5, t33);
			append(div5, br);
			append(div5, t34);
			append(div5, button4);
			append(button4, t35);
			current = true;

			if (!mounted) {
				dispose = [
					listen(window, "mouseup", /*mouseup_handler*/ ctx[7]),
					listen(button0, "click", function () {
						if (is_function(/*playPauseApp*/ ctx[0])) /*playPauseApp*/ ctx[0].apply(this, arguments);
					}),
					listen(button1, "click", function () {
						if (is_function(/*stopApp*/ ctx[1])) /*stopApp*/ ctx[1].apply(this, arguments);
					}),
					listen(button2, "click", /*click_handler*/ ctx[13]),
					listen(button3, "click", /*click_handler_1*/ ctx[14]),
					listen(button4, "mousedown", /*mousedown_handler*/ ctx[15])
				];

				mounted = true;
			}
		},
		p(new_ctx, [dirty]) {
			ctx = new_ctx;
			if ((!current || dirty & /*$volume*/ 8) && t2_value !== (t2_value = /*$volume*/ ctx[3].master + "")) set_data(t2, t2_value);
			const rangeslider0_changes = {};

			if (!updating_value && dirty & /*$volume*/ 8) {
				updating_value = true;
				rangeslider0_changes.value = /*$volume*/ ctx[3].master;
				add_flush_callback(() => updating_value = false);
			}

			rangeslider0.$set(rangeslider0_changes);
			if ((!current || dirty & /*$volume*/ 8) && t7_value !== (t7_value = /*$volume*/ ctx[3].left + "")) set_data(t7, t7_value);
			const rangeslider1_changes = {};

			if (!updating_value_1 && dirty & /*$volume*/ 8) {
				updating_value_1 = true;
				rangeslider1_changes.value = /*$volume*/ ctx[3].left;
				add_flush_callback(() => updating_value_1 = false);
			}

			rangeslider1.$set(rangeslider1_changes);
			if ((!current || dirty & /*$volume*/ 8) && t12_value !== (t12_value = /*$volume*/ ctx[3].right + "")) set_data(t12, t12_value);
			const rangeslider2_changes = {};

			if (!updating_value_2 && dirty & /*$volume*/ 8) {
				updating_value_2 = true;
				rangeslider2_changes.value = /*$volume*/ ctx[3].right;
				add_flush_callback(() => updating_value_2 = false);
			}

			rangeslider2.$set(rangeslider2_changes);
			if (!current || dirty & /*$tempoControl*/ 16) set_data(t17, /*$tempoControl*/ ctx[4]);
			const rangeslider3_changes = {};

			if (!updating_value_3 && dirty & /*$tempoControl*/ 16) {
				updating_value_3 = true;
				rangeslider3_changes.value = /*$tempoControl*/ ctx[4];
				add_flush_callback(() => updating_value_3 = false);
			}

			rangeslider3.$set(rangeslider3_changes);
			if ((!current || dirty & /*$playbackProgress*/ 32) && t22_value !== (t22_value = (/*$playbackProgress*/ ctx[5] * 100).toFixed(2) + "")) set_data(t22, t22_value);
			const rangeslider4_changes = {};
			if (dirty & /*$playbackProgress*/ 32) rangeslider4_changes.value = /*$playbackProgress*/ ctx[5];
			rangeslider4.$set(rangeslider4_changes);

			if (!current || dirty & /*$pedalling*/ 64 && button2_aria_pressed_value !== (button2_aria_pressed_value = /*$pedalling*/ ctx[6].soft)) {
				attr(button2, "aria-pressed", button2_aria_pressed_value);
			}

			if (dirty & /*$pedalling*/ 64) {
				toggle_class(button2, "pedal-on", /*$pedalling*/ ctx[6].soft);
			}

			if (!current || dirty & /*$pedalling*/ 64 && button3_aria_pressed_value !== (button3_aria_pressed_value = /*$pedalling*/ ctx[6].sustain)) {
				attr(button3, "aria-pressed", button3_aria_pressed_value);
			}

			if (dirty & /*$pedalling*/ 64) {
				toggle_class(button3, "pedal-on", /*$pedalling*/ ctx[6].sustain);
			}

			if (!current || dirty & /*$pedalling*/ 64 && button4_aria_pressed_value !== (button4_aria_pressed_value = /*$pedalling*/ ctx[6].accent)) {
				attr(button4, "aria-pressed", button4_aria_pressed_value);
			}

			if (dirty & /*$pedalling*/ 64) {
				toggle_class(button4, "pedal-on", /*$pedalling*/ ctx[6].accent);
			}
		},
		i(local) {
			if (current) return;
			transition_in(rangeslider0.$$.fragment, local);
			transition_in(rangeslider1.$$.fragment, local);
			transition_in(rangeslider2.$$.fragment, local);
			transition_in(rangeslider3.$$.fragment, local);
			transition_in(rangeslider4.$$.fragment, local);
			current = true;
		},
		o(local) {
			transition_out(rangeslider0.$$.fragment, local);
			transition_out(rangeslider1.$$.fragment, local);
			transition_out(rangeslider2.$$.fragment, local);
			transition_out(rangeslider3.$$.fragment, local);
			transition_out(rangeslider4.$$.fragment, local);
			current = false;
		},
		d(detaching) {
			if (detaching) detach(div5);
			destroy_component(rangeslider0);
			destroy_component(rangeslider1);
			destroy_component(rangeslider2);
			destroy_component(rangeslider3);
			destroy_component(rangeslider4);
			mounted = false;
			run_all(dispose);
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	let $volume;
	let $tempoControl;
	let $playbackProgress;
	let $pedalling;
	component_subscribe($$self, volume, $$value => $$invalidate(3, $volume = $$value));
	component_subscribe($$self, tempoControl, $$value => $$invalidate(4, $tempoControl = $$value));
	component_subscribe($$self, playbackProgress, $$value => $$invalidate(5, $playbackProgress = $$value));
	component_subscribe($$self, pedalling, $$value => $$invalidate(6, $pedalling = $$value));
	let { playPauseApp } = $$props;
	let { stopApp } = $$props;
	let { skipToPercentage } = $$props;
	const mouseup_handler = () => pedalling.update(val => ({ ...val, accent: false }));

	function rangeslider0_value_binding(value) {
		$volume.master = value;
		volume.set($volume);
	}

	function rangeslider1_value_binding(value) {
		$volume.left = value;
		volume.set($volume);
	}

	function rangeslider2_value_binding(value) {
		$volume.right = value;
		volume.set($volume);
	}

	function rangeslider3_value_binding(value) {
		$tempoControl = value;
		tempoControl.set($tempoControl);
	}

	const input_handler = ({ target: { value } }) => skipToPercentage(value);
	const click_handler = () => pedalling.update(val => ({ ...val, soft: !val.soft }));
	const click_handler_1 = () => pedalling.update(val => ({ ...val, sustain: !val.sustain }));
	const mousedown_handler = () => pedalling.update(val => ({ ...val, accent: true }));

	$$self.$$set = $$props => {
		if ("playPauseApp" in $$props) $$invalidate(0, playPauseApp = $$props.playPauseApp);
		if ("stopApp" in $$props) $$invalidate(1, stopApp = $$props.stopApp);
		if ("skipToPercentage" in $$props) $$invalidate(2, skipToPercentage = $$props.skipToPercentage);
	};

	return [
		playPauseApp,
		stopApp,
		skipToPercentage,
		$volume,
		$tempoControl,
		$playbackProgress,
		$pedalling,
		mouseup_handler,
		rangeslider0_value_binding,
		rangeslider1_value_binding,
		rangeslider2_value_binding,
		rangeslider3_value_binding,
		input_handler,
		click_handler,
		click_handler_1,
		mousedown_handler
	];
}

class PlaybackControls extends SvelteComponent {
	constructor(options) {
		super();

		init(this, options, instance, create_fragment, safe_not_equal, {
			playPauseApp: 0,
			stopApp: 1,
			skipToPercentage: 2
		});
	}
}

export default PlaybackControls;